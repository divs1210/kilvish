package cars;

import com.kilvish.view.GamePane;

public class Map {

	int[][] repr =   {{2,2,2,0,0,2,2,2},
					  {1,1,2,0,0,2,1,1},
					  {1,1,1,0,0,1,1,1},
				      {1,1,1,0,0,1,1,1},
				      {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
				      {1,1,1,0,0,1,1,1},
				      {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
				      {1,1,1,0,0,1,1,1},
				      {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
				      {1,1,1,0,0,1,1,1},
				      {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
				      {1,1,1,0,0,1,1,1},
				      {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
				      {1,1,1,0,0,1,1,1},
				      {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
				      {1,1,1,0,0,1,1,1},
				      {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
				      {1,1,1,0,0,1,1,1},
				      {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
				      {1,1,1,0,0,1,1,1},
				      {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
				      {1,1,1,0,0,1,1,1},
				      {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,1,0,0,1,1,1},
					  {1,1,2,0,0,2,1,1}};
	
	Cars c;
	int curr = 0;
	MapElement lastLoaded = null;
	
	public Map(GamePane gp){
		this.c = (Cars)gp;
	}
	
	public void loadNext(){
		loadNext(false);
	}
	
	public MapElement randomNaturalElement(){
		return c.r.nextBoolean()?new Grass():
				c.r.nextBoolean()?new Grass():
				c.r.nextBoolean()?new  Tree():
				c.r.nextBoolean()?new  Tree():
								  new  Rock();
	}
	
	public void loadNext(boolean visible){
		MapElement s=null;
		for(int col=0; col<8; col++){
			s = null;
			
			switch(repr[curr][col]){
				case 0: s = new Road();  break;
				case 1: s = randomNaturalElement(); break;
				case 2: s = new Stone(); break;
			}
			
			if(s!=null){
				s.setLocation(col*100, lastLoaded==null?-100:lastLoaded.getY()-100);
				s.setVisible(visible);
				c.add(s);
			}
		}
		lastLoaded = s;
		curr=(curr+1)%repr.length;
	}
}
